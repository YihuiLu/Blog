<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,一灰,头痛记,blog" />
    <meta name="generator" content="Maverick 1.1" />
    <meta name="template" content="Galileo" />
    <link rel="alternate" type="application/rss+xml" title="一灰的随手记 &raquo; RSS 2.0" href="/Blog/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="一灰的随手记 &raquo; ATOM 1.0" href="/Blog/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/galileo-8d8763e752.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/ExSearch/ExSearch-182e5a8868.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/katex.min.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700&display=swap">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/abf5966b047e4f2e8f1c98ffaeb939cc.json"
        }
    </script>
    
<title>redis.Redis与redis.StrictRedis区别 - 一灰的随手记</title>
<meta name="author" content="一灰" />
<meta name="description" content="redis-py提供两个类Redis和StrictRedis用于实现Redis的命令..." />
<meta property="og:title" content="redis.Redis与redis.StrictRedis区别 - 一灰的随手记" />
<meta property="og:description" content="redis-py提供两个类Redis和StrictRedis用于实现Redis的命令..." />
<meta property="og:site_name" content="一灰的随手记" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/Blog/archives/redis/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2019-07-17T20:34:00-00.00" />
<meta name="twitter:title" content="redis.Redis与redis.StrictRedis区别 - 一灰的随手记" />
<meta name="twitter:description" content="redis-py提供两个类Redis和StrictRedis用于实现Redis的命令..." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />

    </head>
    
    <body>
        
        <div class="container">
            <header id="ga-header">
                <div first>
                    <aside id="ga-brand">
                        <h1 class="brand"><a class="no-style" href="/Blog/">一灰的随手记</a></h1>
                        <p>日常生活即是颂歌</p>
                    </aside>
                </div>
                <div second id="ga-nav">
                    <nav class="navs">
                        <ul><li><a class="ga-highlight" href="/Blog/" target="_self">首页</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/Blog/archives/" target="_self">归档</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/Blog/migraine/" target="_self">头痛记</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/Blog/about/" target="_self">关于</a></li><span class="separator">·</span><li><a href="#" target="_self" class="search-form-input ga-highlight">搜索</a></li></ul>
                    </nav>
                </div>
            </header>
            <div class="wrapper">
                
<main>    
    <section class="ga-section ga-content">
        <article class="yue">
            <h1 class="ga-post_title">redis.Redis与redis.StrictRedis区别</h1>
            <span class="ga-post_meta ga-mono">
                <span>一灰</span>
                <time>
                    2019-07-17
                </time>
                
                in <a no-style class="category" href="/Blog/category/Python/">
                    Python
                </a>
                
                
            </span>
            <div class="ga-content_body">
                <p>redis-py提供两个类Redis和StrictRedis用于实现Redis的命令，StrictRedis用于实现大部分官方的命令，并使用官方的语法和命令（比如，SET命令对应与StrictRedis.set方法）。Redis是StrictRedis的子类，用于向后兼容旧版本的redis-py。 简单说，官方推荐使用StrictRedis方法。</p><p>不推荐Redis类，原因是他和咱们在redis-cli操作有些不一样，主要不一样是下面这三个方面。</p><p>·LREM：参数 ‘num’ 和 ‘value’ 的顺序交换了一下，cli是 lrem queueName 0 ‘string’ 。 这里的0时所有的意思。 但是Redis这个类，把控制和string调换了。</p><p>·ZADD：实现时 score 和 value 的顺序不小心弄反了，后来有人用了，就这样了</p><p>·SETEX: time 和 value 的顺序反了</p><p>.Pool: 连接池</p><p>Redis的连接池的方法：</p>
<pre><code>pool = redis.ConnectionPool(host=‘localhost‘, port=6379, db=0)

r = redis.Redis(connection_pool=pool)
</code></pre>
<p>StrictRedis的连接池的实现方式:</p>
<pre><code>In [4]: pool = redis.ConnectionPool(host=‘127.0.0.1‘, port=6379)

In [5]: r = redis.StrictRedis(connection_pool=pool)
</code></pre>
<p>官方的创建redis的时候，都可以添加什么参数。</p><blockquote>
<p>class redis.StrictRedis(host=‘localhost‘, port=6379, db=0, password=None, socket_timeout=None, connection_pool=None, charset=‘utf-8‘, errors=‘strict‘, decode_responses=False, unix_socket_path=None)</p></blockquote>
<p>Implementation of the Redis protocol.
This abstract class provides a Python interface to all Redis commands and an implementation of the Redis protocol.
Connection and Pipeline derive from this, implementing how the commands are sent and received to the Redis server</p><p>redis的对于有些编码入库的问题，redis的连接附加的参数里面，默认编码是utf-8，但是如果你非要用GBK那就需要指明你的chardet和decode_responses为True 。</p><p>原文地址(还是我的博客): <a href="https://www.yifeilu.cn/index.php/archives/32/"><a href="https://www.yifeilu.cn/index.php/archives/32/">https://www.yifeilu.cn/index.php/archives/32/</a></a></p>
            </div>
        </article>
        <div id="ga-tags">
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/Blog/tag/%E5%8D%9A%E5%AE%A2/">#博客</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/Blog/tag/Redis/">#Redis</a>
    </span>
    
</div>
    </section>

    
<section id="ga-content_pager">

    <div class="next">
        <a class="ga-highlight" href="/Blog/archives/CSRF/">Flask的跨域请求问题（CSRF）</a>
        <p class="yue">跨域问题 “Cross-Origin Resource Sharing (CORS)” 的本质是 浏览器禁止从一个源加载的脚本与另一个源进行交互，即 —- 浏览器的同源策略</p>
    </div>


    <div class="prev">
        <a class="ga-highlight" href="/Blog/archives/FOREIGN_KEY_CHECKS/">MySQL & SQLit忽略外键约束删除数据</a>
        <p class="yue">关闭外键校验</p>
    </div>

</section>


    
        <script>
            var initValine = function () {
                new Valine({"enable": true, "el": "#vcomments", "appId": "FHu0SCPDeyBjMY4s0ECouzDf-gzGzoHsz", "appKey": "UecRNirhvv66x0fxlpKjmFSk"});
            }
        </script>
        <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
        <div id="vcomments"></div>
    

</main>

                <footer class="ga-mono" id="ga-footer">
                    <section>
                        <span id="ga-uptime"></span>
                        <span class="brand">一灰的随手记</span>
                    </section>
                    <section>
                        <p class="copyright">
                            <span>Copyright © 2021 一灰</span>
                            <span>Powered by <a no-style href="https://github.com/AlanDecode/Maverick" target="_blank">Maverick & Galileo</a></span>
                        </p>
                        <div class="copyright">
                            <span class="footer-addon">
                                
                            </span>
                            <nav class="social-links">
                                <ul><li><a class="no-style" title="GitHub" href="https://github.com/YihuiLu" target="_blank"><i class="gi gi-github"></i>GitHub</a></li><span class="separator">·</span><li><a class="no-style" title="知乎" href="https://www.zhihu.com/people/yihui-24-13" target="_blank"><i class="gi gi-people"></i>知乎</a></li></ul>
                            </nav>
                        </div>
                    </section>
                    <script>
                        var site_build_date = "2019-2-18T16:51+08:00"
                    </script>
                    <script src="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/galileo-7c8cea54ab.js"></script>
                </footer>
            </div>
        </div>
    </div>

    <!--katex-->
    <script defer src="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/katex.min.js"></script>
    <script>
    mathOpts = {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
        ]
    };
    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    <script src="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    
    </body>
</html>