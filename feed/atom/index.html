<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN"><id>/Blog/</id><title>一灰的技术博客</title><updated>2020-08-21T01:34:34.783100+08:06</updated><author><name>一灰</name><email>isRichard.Lu@gmail.com</email></author><link href="/Blog/" rel="alternate"/><generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator><logo>https://cdn.jsdelivr.net/gh/YihuiLu/Blog@gh-pages/logo.png</logo><subtitle>花径不曾缘客扫，蓬门今始为君开</subtitle><entry><id>/Blog/archives/redis/</id><title>redis.Redis与redis.StrictRedis区别</title><updated>2020-08-21T01:34:34.783251+00:00</updated><author><name>一灰</name><email>isRichard.Lu@gmail.com</email><uri>https://github.com/YihuiLu</uri></author><content>&lt;p&gt;redis-py提供两个类Redis和StrictRedis用于实现Redis的命令，StrictRedis用于实现大部分官方的命令，并使用官方的语法和命令（比如，SET命令对应与StrictRedis.set方法）。Redis是StrictRedis的子类，用于向后兼容旧版本的redis-py。 简单说，官方推荐使用StrictRedis方法。&lt;/p&gt;&lt;p&gt;不推荐Redis类，原因是他和咱们在redis-cli操作有些不一样，主要不一样是下面这三个方面。&lt;/p&gt;&lt;p&gt;·LREM：参数 ‘num’ 和 ‘value’ 的顺序交换了一下，cli是 lrem queueName 0 ‘string’ 。 这里的0时所有的意思。 但是Redis这个类，把控制和string调换了。&lt;/p&gt;&lt;p&gt;·ZADD：实现时 score 和 value 的顺序不小心弄反了，后来有人用了，就这样了&lt;/p&gt;&lt;p&gt;·SETEX: time 和 value 的顺序反了&lt;/p&gt;&lt;p&gt;.Pool: 连接池&lt;/p&gt;&lt;p&gt;Redis的连接池的方法：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pool = redis.ConnectionPool(host=‘localhost‘, port=6379, db=0)

r = redis.Redis(connection_pool=pool)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;StrictRedis的连接池的实现方式:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;In [4]: pool = redis.ConnectionPool(host=‘127.0.0.1‘, port=6379)

In [5]: r = redis.StrictRedis(connection_pool=pool)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;官方的创建redis的时候，都可以添加什么参数。&lt;/p&gt;&lt;blockquote&gt;
&lt;p&gt;class redis.StrictRedis(host=‘localhost‘, port=6379, db=0, password=None, socket_timeout=None, connection_pool=None, charset=‘utf-8‘, errors=‘strict‘, decode_responses=False, unix_socket_path=None)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Implementation of the Redis protocol.
This abstract class provides a Python interface to all Redis commands and an implementation of the Redis protocol.
Connection and Pipeline derive from this, implementing how the commands are sent and received to the Redis server&lt;/p&gt;&lt;p&gt;redis的对于有些编码入库的问题，redis的连接附加的参数里面，默认编码是utf-8，但是如果你非要用GBK那就需要指明你的chardet和decode_responses为True 。&lt;/p&gt;&lt;p&gt;原文地址(还是我的博客): &lt;a href="https://www.yifeilu.cn/index.php/archives/32/"&gt;&lt;a href="https://www.yifeilu.cn/index.php/archives/32/"&gt;https://www.yifeilu.cn/index.php/archives/32/&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;</content><link href="/Blog/archives/redis/" rel="alternate"/><published>2019-07-17T20:34:00+08:06</published></entry><entry><id>/Blog/archives/SpeechRecognition/</id><title>MacOS 下 Pycharm运行SpeechRecognition无法录音</title><updated>2020-08-21T01:34:34.783181+00:00</updated><author><name>一灰</name><email>isRichard.Lu@gmail.com</email><uri>https://github.com/YihuiLu</uri></author><content>&lt;p&gt;关联同样环境下的其他库和服务&lt;/p&gt;&lt;p&gt;比如：摄像头&lt;/p&gt;&lt;p&gt;因为涉及到调用硬件，MacOS会请求用户授权，由于2020.3以前的Pycharm并不兼容授权功能，导致代码运行不正常&lt;/p&gt;&lt;p&gt;解决方式：&lt;/p&gt;&lt;p&gt;建议直接在终端运行代码吧，&lt;/p&gt;&lt;p&gt;或者升级Pycharm到最新&lt;/p&gt;&lt;p&gt;也可以通过其他方法让Pycharm得到授权，但太麻烦了，得不偿失&lt;/p&gt;</content><link href="/Blog/archives/SpeechRecognition/" rel="alternate"/><published>2020-07-17T11:05:00+08:06</published></entry></feed>